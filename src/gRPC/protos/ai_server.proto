syntax = "proto3";

// option objc_class_prefix = "HLW";

package ai_server;

service OCR {
  rpc OnUpdateStep (SendStep) returns (ReplySendStep) {}
  rpc OnComplete (SendResult) returns (ReplySendResult) {}
  rpc Start (RequestStart) returns (ReplyRequestStart) {}
}

service Style {
  rpc OnUpdateStep (SendStep) returns (ReplySendStep) {}
  rpc OnComplete (SendResult) returns (ReplySendResult) {}
  rpc Start (RequestStart) returns (ReplyRequestStart) {}
}

message SendStep {
  int64 req_id = 1;
  int32 step = 2;
}

message ReplySendStep {
  int64 req_id = 1;
  int32 step = 2;
  int32 status_code = 3;
}

message SendResult {
  int64 req_id = 1;
  string data = 2;
}

message ReplySendResult {
  int64 req_id = 1;
  int32 status_code = 2;
}

message RequestStart {
  int64 req_id = 1;
}

message ReplyRequestStart {
  int64 req_id = 1;
  int32 status_code = 2;
}